{"version":3,"sources":["vendors/backgroundVideo.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_typeof","Symbol","iterator","obj","constructor","_classCallCheck","instance","TypeError","root","factory","pluginName","define","amd","exports","module","window","defaults","parallax","effect","pauseVideoOnViewLoss","preventContextMenu","minimumVideoWidth","autoplayFallback","onBeforeReady","onReady","addClass","el","className","classList","add","BackgroundVideo","element","options","document","querySelectorAll","browserPrexix","detectBrowser","shimRequestAnimationFrame","has3d","detect3d","setWindowDimensions","init","value","iteration","playEvent","videoReadyCallback","bind","setVideoWrap","setVideoProperties","insertVideos","readyState","addEventListener","removeEventListener","originalVideoW","videoWidth","originalVideoH","videoHeight","bindEvents","requestTick","ticking","windowWidth","innerWidth","windowHeight","innerHeight","requestAnimationFrame","positionObject","scrollPos","pageYOffset","_scaleObject","scaleObject","xPos","yPos","calculateYPos","transformStyle","style","transform","heightScale","widthScale","scaleFactor","bvVideoWrap","width","height","parseInt","videoPosition","offsetTop","videoOffset","wrapper","createElement","bvVideoWrapClass","position","overflow","zIndex","parentNode","insertBefore","appendChild","querySelector","setAttribute","poster","src","videoTypeArr","split","videoType","addSourceToVideo","type","val","navigator","userAgent","toLowerCase","indexOf","lastTime","vendors","x","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","t","transforms","WebkitTransform","OTransform","MSTransform","MozTransform","body","lastChild","undefined","getComputedStyle","getPropertyValue","removeChild"],"mappings":"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","sourcesContent":["\"use strict\";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}(function(root,factory){var pluginName=\"BackgroundVideo\";if(typeof define===\"function\"&&define.amd){define([],factory(pluginName))}else if((typeof exports===\"undefined\"?\"undefined\":_typeof(exports))===\"object\"){module.exports=factory(pluginName)}else{root[pluginName]=factory(pluginName)}})(window||module||{},function(pluginName){var defaults={parallax:{effect:1.5},pauseVideoOnViewLoss:false,preventContextMenu:false,minimumVideoWidth:400,autoplayFallback:\"\",onBeforeReady:function onBeforeReady(){},onReady:function onReady(){}};var addClass=function addClass(el,className){if(el.classList){el.classList.add(className)}else{el.className+=\" \"+className}};var BackgroundVideo=function(){function BackgroundVideo(element,options){_classCallCheck(this,BackgroundVideo);this.element=document.querySelectorAll(element);this.options=_extends({},defaults,options);this.options.browserPrexix=this.detectBrowser();this.shimRequestAnimationFrame();this.options.has3d=this.detect3d();this.setWindowDimensions();for(var i=0;i<this.element.length;i++){this.init(this.element[i],i)}}_createClass(BackgroundVideo,[{key:\"init\",value:function init(element,iteration){this.el=element;this.playEvent=this.videoReadyCallback.bind(this);this.setVideoWrap(iteration);this.setVideoProperties();this.insertVideos();if(this.options&&this.options.onBeforeReady())this.options.onBeforeReady();if(this.el.readyState>3){this.videoReadyCallback()}else{this.el.addEventListener(\"canplaythrough\",this.playEvent,false);this.el.addEventListener(\"canplay\",this.playEvent,false)}if(this.options.preventContextMenu){this.el.addEventListener(\"contextmenu\",function(){return false})}}},{key:\"videoReadyCallback\",value:function videoReadyCallback(){this.el.removeEventListener(\"canplaythrough\",this.playEvent,false);this.el.removeEventListener(\"canplay\",this.playEvent,false);this.options.originalVideoW=this.el.videoWidth;this.options.originalVideoH=this.el.videoHeight;this.bindEvents();this.requestTick();if(this.options&&this.options.onReady())this.options.onReady()}},{key:\"bindEvents\",value:function bindEvents(){this.ticking=false;if(this.options.parallax){window.addEventListener(\"scroll\",this.requestTick.bind(this))}window.addEventListener(\"resize\",this.requestTick.bind(this));window.addEventListener(\"resize\",this.setWindowDimensions.bind(this))}},{key:\"setWindowDimensions\",value:function setWindowDimensions(){this.windowWidth=window.innerWidth;this.windowHeight=window.innerHeight}},{key:\"requestTick\",value:function requestTick(){if(!this.ticking){this.ticking=true;window.requestAnimationFrame(this.positionObject.bind(this))}}},{key:\"positionObject\",value:function positionObject(){var scrollPos=window.pageYOffset;var _scaleObject=this.scaleObject(),xPos=_scaleObject.xPos,yPos=_scaleObject.yPos;if(this.options.parallax){if(scrollPos>=0){yPos=this.calculateYPos(yPos,scrollPos)}else{yPos=this.calculateYPos(yPos,0)}}else{yPos=-yPos}var transformStyle=this.options.has3d?\"translate3d(\"+xPos+\"px, \"+yPos+\"px, 0)\":\"translate(\"+xPos+\"px, \"+yPos+\"px)\";this.el.style[\"\"+this.options.browserPrexix]=transformStyle;this.el.style.transform=transformStyle;this.ticking=false}},{key:\"scaleObject\",value:function scaleObject(){var heightScale=this.windowWidth/this.options.originalVideoW;var widthScale=this.windowHeight/this.options.originalVideoH;var scaleFactor=void 0;this.options.bvVideoWrap.style.width=this.windowWidth+\"px\";this.options.bvVideoWrap.style.height=this.windowHeight+\"px\";scaleFactor=heightScale>widthScale?heightScale:widthScale;if(scaleFactor*this.options.originalVideoW<this.options.minimumVideoWidth){scaleFactor=this.options.minimumVideoWidth/this.options.originalVideoW}var videoWidth=scaleFactor*this.options.originalVideoW;var videoHeight=scaleFactor*this.options.originalVideoH;this.el.style.width=videoWidth+\"px\";this.el.style.height=videoHeight+\"px\";return{xPos:-parseInt((videoWidth-this.windowWidth)/2),yPos:parseInt(videoHeight-this.windowHeight)/2}}},{key:\"calculateYPos\",value:function calculateYPos(yPos,scrollPos){var videoPosition=parseInt(this.options.bvVideoWrap.offsetTop);var videoOffset=videoPosition-scrollPos;yPos=-(videoOffset/this.options.parallax.effect+yPos);return yPos}},{key:\"setVideoWrap\",value:function setVideoWrap(iteration){var wrapper=document.createElement(\"div\");this.options.bvVideoWrapClass=this.el.className+\"-wrap-\"+iteration;addClass(wrapper,\"bv-video-wrap\");addClass(wrapper,this.options.bvVideoWrapClass);wrapper.style.position=\"relative\";wrapper.style.overflow=\"hidden\";wrapper.style.zIndex=\"10\";this.el.parentNode.insertBefore(wrapper,this.el);wrapper.appendChild(this.el);this.options.bvVideoWrap=document.querySelector(\".\"+this.options.bvVideoWrapClass)}},{key:\"setVideoProperties\",value:function setVideoProperties(){this.el.setAttribute(\"preload\",\"metadata\");this.el.setAttribute(\"loop\",\"true\");this.el.setAttribute(\"autoplay\",\"true\");this.el.style.position=\"absolute\";this.el.style.zIndex=\"1\";var poster=this.options.autoplayFallback;if(poster){this.el.setAttribute(\"poster\",poster)}}},{key:\"insertVideos\",value:function insertVideos(){for(var i=0;i<this.options.src.length;i++){var videoTypeArr=this.options.src[i].split(\".\");var videoType=videoTypeArr[videoTypeArr.length-1];this.addSourceToVideo(this.options.src[i],\"video/\"+videoType)}}},{key:\"addSourceToVideo\",value:function addSourceToVideo(src,type){var source=document.createElement(\"source\");source.src=src;source.type=type;this.el.appendChild(source)}},{key:\"detectBrowser\",value:function detectBrowser(){var val=navigator.userAgent.toLowerCase();var browserPrexix=void 0;if(val.indexOf(\"chrome\")>-1||val.indexOf(\"safari\")>-1){browserPrexix=\"webkitTransform\"}else if(val.indexOf(\"firefox\")>-1){browserPrexix=\"MozTransform\"}else if(val.indexOf(\"MSIE\")!==-1||val.indexOf(\"Trident/\")>0){browserPrexix=\"msTransform\"}else if(val.indexOf(\"Opera\")>-1){browserPrexix=\"OTransform\"}return browserPrexix}},{key:\"shimRequestAnimationFrame\",value:function shimRequestAnimationFrame(){var lastTime=0;var vendors=[\"ms\",\"moz\",\"webkit\",\"o\"];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+\"RequestAnimationFrame\"];window.cancelAnimationFrame=window[vendors[x]+\"CancelAnimationFrame\"]||window[vendors[x]+\"CancelRequestAnimationFrame\"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(id){clearTimeout(id)}}},{key:\"detect3d\",value:function detect3d(){var el=document.createElement(\"p\"),t,has3d,transforms={WebkitTransform:\"-webkit-transform\",OTransform:\"-o-transform\",MSTransform:\"-ms-transform\",MozTransform:\"-moz-transform\",transform:\"transform\"};document.body.insertBefore(el,document.body.lastChild);for(t in transforms){if(el.style[t]!==undefined){el.style[t]=\"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\";has3d=window.getComputedStyle(el).getPropertyValue(transforms[t])}}el.parentNode.removeChild(el);if(has3d!==undefined){return has3d!==\"none\"}else{return false}}}]);return BackgroundVideo}();return BackgroundVideo});"],"file":"backgroundVideo.js"}