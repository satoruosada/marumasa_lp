{"version":3,"sources":["jquery.arctext.js"],"names":["$","undefined","fn","fitText","kompressor","options","settings","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","each","$this","compressor","extend","resizer","css","Math","max","min","width","parseFloat","maxFontSize","minFontSize","window","resize","injector","t","splitter","klass","after","a","text","split","inject","emptyclass","length","i","item","empty","append","methods","init","words","lines","r","children","replaceWith","end","lettering","method","apply","slice","call","arguments","error","Arctext","element","$el","_init","defaults","radius","dir","rotate","prototype","_applyLettering","data","_calc","_rotateWord","_loadEvents","$letters","find","_calcBase","_calcLetters","dtWord","_self","$letter","letterWidth","outerWidth","centerWord","dtArcBase","angle","asin","dtArc","iteratorX","dtArcLetter","beta","h","cos","alpha","acos","theta","x","y","sin","xpos","abs","xval","yval","PI","animation","transformation","transition","speed","easing","on","set","opts","destroy","removeData","off","logError","message","console","arctext","args","Array","instance","isFunction","charAt","jQuery"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,CAAC,UAAUA,CAAV,EAAaC,SAAb,EAAyB;AAEzB;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACCD,EAAAA,CAAC,CAACE,EAAF,CAAKC,OAAL,GAAe,UAAUC,UAAV,EAAsBC,OAAtB,EAAgC;AAE3C,QAAIC,QAAQ,GAAG;AACjB,qBAAgBC,MAAM,CAACC,iBADN;AAEjB,qBAAgBD,MAAM,CAACE;AAFN,KAAf;AAKH,WAAO,KAAKC,IAAL,CAAU,YAAW;AAC3B,UAAIC,KAAK,GAAGX,CAAC,CAAC,IAAD,CAAb,CAD2B,CACO;;AAClC,UAAIY,UAAU,GAAGR,UAAU,IAAI,CAA/B,CAF2B,CAEO;;AAElC,UAAKC,OAAL,EAAe;AACbL,QAAAA,CAAC,CAACa,MAAF,CAAUP,QAAV,EAAoBD,OAApB;AACD,OAN0B,CAQ3B;;;AACA,UAAIS,OAAO,GAAG,SAAVA,OAAU,GAAY;AACzBH,QAAAA,KAAK,CAACI,GAAN,CAAU,WAAV,EAAuBC,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,GAAL,CAASP,KAAK,CAACQ,KAAN,MAAiBP,UAAU,GAAC,EAA5B,CAAT,EAA0CQ,UAAU,CAACd,QAAQ,CAACe,WAAV,CAApD,CAAT,EAAsFD,UAAU,CAACd,QAAQ,CAACgB,WAAV,CAAhG,CAAvB;AACA,OAFD,CAT2B,CAa3B;;;AACAR,MAAAA,OAAO,GAdoB,CAgB3B;;AACAd,MAAAA,CAAC,CAACuB,MAAD,CAAD,CAAUC,MAAV,CAAiBV,OAAjB;AACA,KAlBM,CAAP;AAoBA,GA3BD;AA6BA;AACD;AACA;AACA;AACA;AACA;;;AACC,WAASW,QAAT,CAAkBC,CAAlB,EAAqBC,QAArB,EAA+BC,KAA/B,EAAsCC,KAAtC,EAA6C;AAC5C,QAAIC,CAAC,GAAGJ,CAAC,CAACK,IAAF,GAASC,KAAT,CAAeL,QAAf,CAAR;AAAA,QAAkCM,MAAM,GAAG,EAA3C;AAAA,QAA+CC,UAA/C;;AACA,QAAIJ,CAAC,CAACK,MAAN,EAAc;AACbnC,MAAAA,CAAC,CAAC8B,CAAD,CAAD,CAAKpB,IAAL,CAAU,UAAS0B,CAAT,EAAYC,IAAZ,EAAkB;AAC3BH,QAAAA,UAAU,GAAG,EAAb;;AACA,YAAGG,IAAI,KAAK,GAAZ,EAAiB;AAChBH,UAAAA,UAAU,GAAG,QAAb;AACAG,UAAAA,IAAI,GAAC,QAAL;AACA;;AACDJ,QAAAA,MAAM,IAAI,kBAAgBL,KAAhB,IAAuBQ,CAAC,GAAC,CAAzB,IAA4BF,UAA5B,GAAuC,IAAvC,GAA4CG,IAA5C,GAAiD,SAAjD,GAA2DR,KAArE;AACA,OAPD;AAQAH,MAAAA,CAAC,CAACY,KAAF,GAAUC,MAAV,CAAiBN,MAAjB;AACA;AACD;;AAED,MAAIO,OAAO,GAAM;AAChBC,IAAAA,IAAI,EAAG,gBAAW;AAEjB,aAAO,KAAK/B,IAAL,CAAU,YAAW;AAC3Be,QAAAA,QAAQ,CAACzB,CAAC,CAAC,IAAD,CAAF,EAAU,EAAV,EAAc,MAAd,EAAsB,EAAtB,CAAR;AACA,OAFM,CAAP;AAIA,KAPe;AAShB0C,IAAAA,KAAK,EAAG,iBAAW;AAElB,aAAO,KAAKhC,IAAL,CAAU,YAAW;AAC3Be,QAAAA,QAAQ,CAACzB,CAAC,CAAC,IAAD,CAAF,EAAU,GAAV,EAAe,MAAf,EAAuB,GAAvB,CAAR;AACA,OAFM,CAAP;AAIA,KAfe;AAiBhB2C,IAAAA,KAAK,EAAG,iBAAW;AAElB,aAAO,KAAKjC,IAAL,CAAU,YAAW;AAC3B,YAAIkC,CAAC,GAAG,kCAAR,CAD2B,CAE3B;AACA;AACA;AACA;;AACAnB,QAAAA,QAAQ,CAACzB,CAAC,CAAC,IAAD,CAAD,CAAQ6C,QAAR,CAAiB,IAAjB,EAAuBC,WAAvB,CAAmCF,CAAnC,EAAsCG,GAAtC,EAAD,EAA8CH,CAA9C,EAAiD,MAAjD,EAAyD,EAAzD,CAAR;AACA,OAPM,CAAP;AASA;AA5Be,GAAjB;;AA+BA5C,EAAAA,CAAC,CAACE,EAAF,CAAK8C,SAAL,GAAoB,UAAUC,MAAV,EAAmB;AACtC;AACA,QAAKA,MAAM,IAAIT,OAAO,CAACS,MAAD,CAAtB,EAAiC;AAChC,aAAOT,OAAO,CAAES,MAAF,CAAP,CAAkBC,KAAlB,CAAyB,IAAzB,EAA+B,GAAGC,KAAH,CAASC,IAAT,CAAeC,SAAf,EAA0B,CAA1B,CAA/B,CAAP;AACA,KAFD,MAEO,IAAKJ,MAAM,KAAK,SAAX,IAAwB,CAAEA,MAA/B,EAAwC;AAC9C,aAAOT,OAAO,CAACC,IAAR,CAAaS,KAAb,CAAoB,IAApB,EAA0B,GAAGC,KAAH,CAASC,IAAT,CAAeC,SAAf,EAA0B,CAA1B,CAA1B,CAAP,CAD8C,CACoB;AAClE;;AACDrD,IAAAA,CAAC,CAACsD,KAAF,CAAS,YAAaL,MAAb,GAAsB,qCAA/B;AACA,WAAO,IAAP;AACA,GATD;AAWA;AACD;AACA;;;AACCjD,EAAAA,CAAC,CAACuD,OAAF,GAAgB,UAAUlD,OAAV,EAAmBmD,OAAnB,EAA6B;AAE5C,SAAKC,GAAL,GAAWzD,CAAC,CAAEwD,OAAF,CAAZ;;AACA,SAAKE,KAAL,CAAYrD,OAAZ;AAEA,GALD;;AAOAL,EAAAA,CAAC,CAACuD,OAAF,CAAUI,QAAV,GAAuB;AACtBC,IAAAA,MAAM,EAAG,CADa;AACT;AACbC,IAAAA,GAAG,EAAI,CAFe;AAEZ;AACVC,IAAAA,MAAM,EAAG,IAHa;AAGP;AACf3D,IAAAA,OAAO,EAAG,KAJY,CAIN;;AAJM,GAAvB;AAOAH,EAAAA,CAAC,CAACuD,OAAF,CAAUQ,SAAV,GAAuB;AACtBL,IAAAA,KAAK,EAAO,eAAUrD,OAAV,EAAoB;AAE/B,WAAKA,OAAL,GAAiBL,CAAC,CAACa,MAAF,CAAU,IAAV,EAAgB,EAAhB,EAAoBb,CAAC,CAACuD,OAAF,CAAUI,QAA9B,EAAwCtD,OAAxC,CAAjB,CAF+B,CAI/B;;AACA,WAAK2D,eAAL;;AAEA,WAAKP,GAAL,CAASQ,IAAT,CAAe,SAAf,EAA0B,IAA1B,EAP+B,CAS/B;;AACA,WAAKC,KAAL,GAV+B,CAY/B;;;AACA,WAAKC,WAAL,GAb+B,CAe/B;;;AACA,WAAKC,WAAL;AAEA,KAnBqB;AAoBtBJ,IAAAA,eAAe,EAAI,2BAAW;AAE7B,WAAKP,GAAL,CAAST,SAAT;AAEA,UAAI,KAAK3C,OAAL,CAAaF,OAAjB,EACC,KAAKsD,GAAL,CAAStD,OAAT;AAED,WAAKkE,QAAL,GAAgB,KAAKZ,GAAL,CAASa,IAAT,CAAc,MAAd,EAAsBvD,GAAtB,CAA0B,SAA1B,EAAqC,cAArC,CAAhB;AAEA,KA7BqB;AA8BtBmD,IAAAA,KAAK,EAAM,iBAAW;AAErB,UAAI,KAAK7D,OAAL,CAAauD,MAAb,KAAwB,CAAC,CAA7B,EACC,OAAO,KAAP,CAHoB,CAKrB;;AACA,WAAKW,SAAL,GANqB,CAQrB;;;AACA,WAAKC,YAAL;AAEA,KAzCqB;AA0CtBD,IAAAA,SAAS,EAAK,qBAAW;AAExB;AACA,WAAKE,MAAL,GAAe,CAAf;;AAEA,UAAIC,KAAK,GAAK,IAAd;;AAEA,WAAKL,QAAL,CAAc3D,IAAd,CAAoB,UAAS0B,CAAT,EAAY;AAE/B,YAAIuC,OAAO,GAAK3E,CAAC,CAAC,IAAD,CAAjB;AAAA,YACC4E,WAAW,GAAID,OAAO,CAACE,UAAR,CAAoB,IAApB,CADhB;AAGAH,QAAAA,KAAK,CAACD,MAAN,IAAgBG,WAAhB,CAL+B,CAO/B;;AACAD,QAAAA,OAAO,CAACV,IAAR,CAAc,QAAd,EAAwBS,KAAK,CAACD,MAAN,GAAeG,WAAW,GAAG,CAArD;AAEA,OAVD,EAPwB,CAmBxB;;AACA,UAAIE,UAAU,GAAG,KAAKL,MAAL,GAAc,CAA/B,CApBwB,CAsBxB;;AACA,UAAI,KAAKpE,OAAL,CAAauD,MAAb,GAAsBkB,UAA1B,EACC,KAAKzE,OAAL,CAAauD,MAAb,GAAsBkB,UAAtB,CAxBuB,CA0BxB;;AACA,WAAKC,SAAL,GAAiB,KAAKN,MAAtB,CA3BwB,CA6BxB;AACA;;AACA,UAAIO,KAAK,GAAI,IAAIhE,IAAI,CAACiE,IAAL,CAAW,KAAKF,SAAL,IAAmB,IAAI,KAAK1E,OAAL,CAAauD,MAApC,CAAX,CAAjB,CA/BwB,CAiCxB;;AACA,WAAKsB,KAAL,GAAc,KAAK7E,OAAL,CAAauD,MAAb,GAAsBoB,KAApC;AAEA,KA9EqB;AA+EtBR,IAAAA,YAAY,EAAI,wBAAW;AAE1B,UAAIE,KAAK,GAAK,IAAd;AAAA,UACCS,SAAS,GAAI,CADd;;AAGA,WAAKd,QAAL,CAAc3D,IAAd,CAAoB,UAAS0B,CAAT,EAAY;AAE/B,YAAIuC,OAAO,GAAK3E,CAAC,CAAC,IAAD,CAAjB;AAAA,YACC;AACAoF,QAAAA,WAAW,GAAMT,OAAO,CAACE,UAAR,CAAoB,IAApB,IAA6BH,KAAK,CAACD,MAArC,GAAgDC,KAAK,CAACQ,KAFtE;AAAA,YAGC;AACAG,QAAAA,IAAI,GAAKD,WAAW,GAAGV,KAAK,CAACrE,OAAN,CAAcuD,MAJtC;AAAA,YAKC;AACA;AACA0B,QAAAA,CAAC,GAAMZ,KAAK,CAACrE,OAAN,CAAcuD,MAAd,GAAyB5C,IAAI,CAACuE,GAAL,CAAUF,IAAI,GAAG,CAAjB,CAPjC;AAAA,YAQC;AACAG,QAAAA,KAAK,GAAKxE,IAAI,CAACyE,IAAL,CAAW,CAAEf,KAAK,CAACD,MAAN,GAAe,CAAf,GAAmBU,SAArB,IAAmCT,KAAK,CAACrE,OAAN,CAAcuD,MAA5D,CATX;AAAA,YAUC;AACA8B,QAAAA,KAAK,GAAMF,KAAK,GAAGH,IAAI,GAAG,CAX3B;AAAA,YAYC;AACAM,QAAAA,CAAC,GAAM3E,IAAI,CAACuE,GAAL,CAAUG,KAAV,IAAoBJ,CAb5B;AAAA,YAcCM,CAAC,GAAM5E,IAAI,CAAC6E,GAAL,CAAUH,KAAV,IAAoBJ,CAd5B;AAAA,YAeC;AACAQ,QAAAA,IAAI,GAAKX,SAAS,GAAGnE,IAAI,CAAC+E,GAAL,CAAUrB,KAAK,CAACD,MAAN,GAAe,CAAf,GAAmBkB,CAAnB,GAAuBR,SAAjC,CAhBtB;AAAA,YAiBC;AACA;AACAa,QAAAA,IAAI,GAAG,IAAGF,IAAI,GAAGnB,OAAO,CAACV,IAAR,CAAc,QAAd,CAnBlB;AAAA,YAoBCgC,IAAI,GAAG,IAAGvB,KAAK,CAACrE,OAAN,CAAcuD,MAAd,GAAuBgC,CApBlC;AAAA,YAqBCZ,KAAK,GAAMN,KAAK,CAACrE,OAAN,CAAcyD,MAAhB,GAA2B,IAAG,CAAC9C,IAAI,CAACiE,IAAL,CAAWU,CAAC,GAAGjB,KAAK,CAACrE,OAAN,CAAcuD,MAA7B,CAAD,IAA2C,MAAM5C,IAAI,CAACkF,EAAtD,CAA9B,GAA2F,CArBrG,CAF+B,CAyB/B;;;AACAf,QAAAA,SAAS,GAAG,IAAIW,IAAJ,GAAWX,SAAvB,CA1B+B,CA4B/B;;AACAR,QAAAA,OAAO,CAACV,IAAR,CAAa;AACZ0B,UAAAA,CAAC,EAAGK,IADQ;AAEZJ,UAAAA,CAAC,EAAKlB,KAAK,CAACrE,OAAN,CAAcwD,GAAd,KAAsB,CAAxB,GAA8BoC,IAA9B,GAAqC,CAACA,IAF9B;AAGZnE,UAAAA,CAAC,EAAK4C,KAAK,CAACrE,OAAN,CAAcwD,GAAd,KAAsB,CAAxB,GAA8BmB,KAA9B,GAAsC,CAACA;AAH/B,SAAb;AAMA,OAnCD;AAqCA,KAzHqB;AA0HtBb,IAAAA,WAAW,EAAK,qBAAUgC,SAAV,EAAsB;AAErC,UAAI,CAAC,KAAK1C,GAAL,CAASQ,IAAT,CAAc,SAAd,CAAL,EAAgC,OAAO,KAAP;;AAEhC,UAAIS,KAAK,GAAG,IAAZ;;AAEA,WAAKL,QAAL,CAAc3D,IAAd,CAAoB,UAAS0B,CAAT,EAAY;AAE/B,YAAIuC,OAAO,GAAK3E,CAAC,CAAC,IAAD,CAAjB;AAAA,YACCoG,cAAc,GAAK1B,KAAK,CAACrE,OAAN,CAAcuD,MAAd,KAAyB,CAAC,CAA5B,GAAkC,MAAlC,GAA2C,gBAAgBe,OAAO,CAACV,IAAR,CAAa,GAAb,CAAhB,GAAoC,iBAApC,GAAwDU,OAAO,CAACV,IAAR,CAAa,GAAb,CAAxD,GAA4E,aAA5E,GAA4FU,OAAO,CAACV,IAAR,CAAa,GAAb,CAA5F,GAAgH,MAD7K;AAAA,YAECoC,UAAU,GAAMF,SAAF,GAAgB,UAAWA,SAAS,CAACG,KAAV,IAAmB,CAA9B,IAAoC,KAApC,IAA8CH,SAAS,CAACI,MAAV,IAAoB,QAAlE,CAAhB,GAA+F,MAF9G;AAIA5B,QAAAA,OAAO,CAAC5D,GAAR,CAAY;AACX,gCAAuBsF,UADZ;AAEX,6BAAoBA,UAFT;AAGX,2BAAkBA,UAHP;AAIX,4BAAmBA,UAJR;AAKX,wBAAeA;AALJ,SAAZ,EAOCtF,GAPD,CAOK;AACJ,+BAAsBqF,cADlB;AAEJ,4BAAmBA,cAFf;AAGJ,0BAAiBA,cAHb;AAIJ,2BAAkBA,cAJd;AAKJ,uBAAcA;AALV,SAPL;AAeA,OArBD;AAuBA,KAvJqB;AAwJtBhC,IAAAA,WAAW,EAAK,uBAAW;AAE1B,UAAI,KAAK/D,OAAL,CAAaF,OAAjB,EAA2B;AAE1B,YAAIuE,KAAK,GAAG,IAAZ;;AAEA1E,QAAAA,CAAC,CAACuB,MAAD,CAAD,CAAUiF,EAAV,CAAc,gBAAd,EAAgC,YAAW;AAE1C9B,UAAAA,KAAK,CAACR,KAAN,GAF0C,CAI1C;;;AACAQ,UAAAA,KAAK,CAACP,WAAN;AAEA,SAPD;AASA;AAED,KAzKqB;AA0KtBsC,IAAAA,GAAG,EAAO,aAAUC,IAAV,EAAiB;AAE1B,UAAI,CAACA,IAAI,CAAC9C,MAAN,IACH,CAAC8C,IAAI,CAAC7C,GADH,IAEH6C,IAAI,CAAC5C,MAAL,KAAgB,WAFjB,EAE+B;AAC7B,eAAO,KAAP;AACD;;AAED,WAAKzD,OAAL,CAAauD,MAAb,GAAsB8C,IAAI,CAAC9C,MAAL,IAAe,KAAKvD,OAAL,CAAauD,MAAlD;AACA,WAAKvD,OAAL,CAAawD,GAAb,GAAoB6C,IAAI,CAAC7C,GAAL,IAAY,KAAKxD,OAAL,CAAawD,GAA7C;;AAEA,UAAI6C,IAAI,CAAC5C,MAAL,KAAgB7D,SAApB,EAAgC;AAC/B,aAAKI,OAAL,CAAayD,MAAb,GAAsB4C,IAAI,CAAC5C,MAA3B;AACA;;AAED,WAAKI,KAAL;;AAEA,WAAKC,WAAL,CAAkBuC,IAAI,CAACP,SAAvB;AAEA,KA7LqB;AA8LtBQ,IAAAA,OAAO,EAAM,mBAAW;AAEvB,WAAKtG,OAAL,CAAauD,MAAb,GAAsB,CAAC,CAAvB;;AACA,WAAKO,WAAL;;AACA,WAAKE,QAAL,CAAcuC,UAAd,CAAyB,cAAzB;AACA,WAAKnD,GAAL,CAASmD,UAAT,CAAoB,SAApB;AACA5G,MAAAA,CAAC,CAACuB,MAAD,CAAD,CAAUsF,GAAV,CAAc,UAAd;AAEA;AAtMqB,GAAvB;;AAyMA,MAAIC,QAAQ,GAAM,SAAdA,QAAc,CAAUC,OAAV,EAAoB;AACrC,QAAK,KAAKC,OAAV,EAAoB;AACnBA,MAAAA,OAAO,CAAC1D,KAAR,CAAeyD,OAAf;AACA;AACD,GAJD;;AAMA/G,EAAAA,CAAC,CAACE,EAAF,CAAK+G,OAAL,GAAiB,UAAU5G,OAAV,EAAoB;AAEpC,QAAK,OAAOA,OAAP,KAAmB,QAAxB,EAAmC;AAElC,UAAI6G,IAAI,GAAGC,KAAK,CAACpD,SAAN,CAAgBZ,KAAhB,CAAsBC,IAAtB,CAA4BC,SAA5B,EAAuC,CAAvC,CAAX;AAEA,WAAK3C,IAAL,CAAU,YAAW;AAEpB,YAAI0G,QAAQ,GAAGpH,CAAC,CAACiE,IAAF,CAAQ,IAAR,EAAc,SAAd,CAAf;;AAEA,YAAK,CAACmD,QAAN,EAAiB;AAChBN,UAAAA,QAAQ,CAAE,6DACV,4BADU,GACqBzG,OADrB,GAC+B,GADjC,CAAR;AAEA;AACA;;AAED,YAAK,CAACL,CAAC,CAACqH,UAAF,CAAcD,QAAQ,CAAC/G,OAAD,CAAtB,CAAD,IAAsCA,OAAO,CAACiH,MAAR,CAAe,CAAf,MAAsB,GAAjE,EAAuE;AACtER,UAAAA,QAAQ,CAAE,qBAAqBzG,OAArB,GAA+B,wBAAjC,CAAR;AACA;AACA;;AAED+G,QAAAA,QAAQ,CAAE/G,OAAF,CAAR,CAAoB6C,KAApB,CAA2BkE,QAA3B,EAAqCF,IAArC;AAEA,OAjBD;AAmBA,KAvBD,MAwBK;AAEJ,WAAKxG,IAAL,CAAU,YAAW;AAEpB,YAAI0G,QAAQ,GAAGpH,CAAC,CAACiE,IAAF,CAAQ,IAAR,EAAc,SAAd,CAAf;;AACA,YAAK,CAACmD,QAAN,EAAiB;AAChBpH,UAAAA,CAAC,CAACiE,IAAF,CAAQ,IAAR,EAAc,SAAd,EAAyB,IAAIjE,CAAC,CAACuD,OAAN,CAAelD,OAAf,EAAwB,IAAxB,CAAzB;AACA;AACD,OAND;AAQA;;AAED,WAAO,IAAP;AAEA,GAxCD;AA0CA,CAjXD,EAiXIkH,MAjXJ","sourcesContent":["/**\r\n * Arctext.js\r\n * A jQuery plugin for curved text\r\n * http://www.codrops.com\r\n *\r\n * Copyright 2011, Pedro Botelho / Codrops\r\n * Free to use under the MIT license.\r\n *\r\n * Date: Mon Jan 23 2012\r\n */\r\n\r\n(function( $, undefined ) {\r\n\t\r\n\t/*!\t\r\n\t* FitText.js 1.0\r\n\t*\r\n\t* Copyright 2011, Dave Rupert http://daverupert.com\r\n\t* Released under the WTFPL license \r\n\t* http://sam.zoy.org/wtfpl/\r\n\t*\r\n\t* Date: Thu May 05 14:23:00 2011 -0600\r\n\t*/\r\n\t$.fn.fitText = function( kompressor, options ) {\r\n\r\n\t    var settings = {\r\n\t\t\t'minFontSize' : Number.NEGATIVE_INFINITY,\r\n\t\t\t'maxFontSize' : Number.POSITIVE_INFINITY\r\n\t\t};\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $this = $(this);              // store the object\r\n\t\t\tvar compressor = kompressor || 1; // set the compressor\r\n\t\r\n\t\t\tif ( options ) { \r\n\t\t\t  $.extend( settings, options );\r\n\t\t\t}\r\n\t\r\n\t\t\t// Resizer() resizes items based on the object width divided by the compressor * 10\r\n\t\t\tvar resizer = function () {\r\n\t\t\t\t$this.css('font-size', Math.max(Math.min($this.width() / (compressor*10), parseFloat(settings.maxFontSize)), parseFloat(settings.minFontSize)));\r\n\t\t\t};\r\n\r\n\t\t\t// Call once to set.\r\n\t\t\tresizer();\r\n\r\n\t\t\t// Call on resize. Opera debounces their resize by default. \r\n\t\t\t$(window).resize(resizer);\r\n\t\t});\r\n\r\n\t};\r\n\r\n\t/*\r\n\t * Lettering plugin\r\n\t *\r\n\t * changed injector function:\r\n\t *   add &nbsp; for empty chars.\r\n\t */\r\n\tfunction injector(t, splitter, klass, after) {\r\n\t\tvar a = t.text().split(splitter), inject = '', emptyclass;\r\n\t\tif (a.length) {\r\n\t\t\t$(a).each(function(i, item) {\r\n\t\t\t\temptyclass = '';\r\n\t\t\t\tif(item === ' ') {\r\n\t\t\t\t\temptyclass = ' empty';\r\n\t\t\t\t\titem='&nbsp;';\r\n\t\t\t\t}\t\r\n\t\t\t\tinject += '<span class=\"'+klass+(i+1)+emptyclass+'\">'+item+'</span>'+after;\r\n\t\t\t});\t\r\n\t\t\tt.empty().append(inject);\r\n\t\t}\r\n\t}\r\n\t\r\n\tvar methods \t\t\t= {\r\n\t\tinit : function() {\r\n\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tinjector($(this), '', 'char', '');\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\twords : function() {\r\n\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tinjector($(this), ' ', 'word', ' ');\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\t\r\n\t\tlines : function() {\r\n\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar r = \"eefec303079ad17405c889e092e105b0\";\r\n\t\t\t\t// Because it's hard to split a <br/> tag consistently across browsers,\r\n\t\t\t\t// (*ahem* IE *ahem*), we replaces all <br/> instances with an md5 hash \r\n\t\t\t\t// (of the word \"split\").  If you're trying to use this plugin on that \r\n\t\t\t\t// md5 hash string, it will fail because you're being ridiculous.\r\n\t\t\t\tinjector($(this).children(\"br\").replaceWith(r).end(), r, 'line', '');\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t};\r\n\r\n\t$.fn.lettering \t\t\t= function( method ) {\r\n\t\t// Method calling logic\r\n\t\tif ( method && methods[method] ) {\r\n\t\t\treturn methods[ method ].apply( this, [].slice.call( arguments, 1 ));\r\n\t\t} else if ( method === 'letters' || ! method ) {\r\n\t\t\treturn methods.init.apply( this, [].slice.call( arguments, 0 ) ); // always pass an array\r\n\t\t}\r\n\t\t$.error( 'Method ' +  method + ' does not exist on jQuery.lettering' );\r\n\t\treturn this;\r\n\t};\r\n\t\r\n\t/*\r\n\t * Arctext object.\r\n\t */\r\n\t$.Arctext \t\t\t\t= function( options, element ) {\r\n\t\r\n\t\tthis.$el\t= $( element );\r\n\t\tthis._init( options );\r\n\t\t\r\n\t};\r\n\t\r\n\t$.Arctext.defaults \t\t= {\r\n\t\tradius\t: 0, \t// the minimum value allowed is half of the word length. if set to -1, the word will be straight.\r\n\t\tdir\t\t: 1,\t// 1: curve is down, -1: curve is up.\r\n\t\trotate\t: true,\t// if true each letter will be rotated.\r\n\t\tfitText\t: false // if you wanna try out the fitText plugin (http://fittextjs.com/) set this to true. Don't forget the wrapper should be fluid.\r\n    };\r\n\t\r\n\t$.Arctext.prototype \t= {\r\n\t\t_init \t\t\t\t: function( options ) {\r\n\t\t\t\r\n\t\t\tthis.options \t\t= $.extend( true, {}, $.Arctext.defaults, options );\r\n\t\t\t\r\n\t\t\t// apply the lettering plugin.\r\n\t\t\tthis._applyLettering();\r\n\t\t\t\r\n\t\t\tthis.$el.data( 'arctext', true );\r\n\t\t\t\r\n\t\t\t// calculate values\r\n\t\t\tthis._calc();\r\n\t\t\t\r\n\t\t\t// apply transformation.\r\n\t\t\tthis._rotateWord();\r\n\t\t\t\r\n\t\t\t// load the events\r\n\t\t\tthis._loadEvents();\r\n\t\t\t\r\n\t\t},\r\n\t\t_applyLettering\t\t: function() {\r\n\t\t\r\n\t\t\tthis.$el.lettering();\r\n\t\t\t\r\n\t\t\tif( this.options.fitText )\r\n\t\t\t\tthis.$el.fitText();\r\n\t\t\t\r\n\t\t\tthis.$letters\t= this.$el.find('span').css('display', 'inline-block');\r\n\t\t\r\n\t\t},\r\n\t\t_calc\t\t\t\t: function() {\r\n\t\t\t\r\n\t\t\tif( this.options.radius === -1 )\r\n\t\t\t\treturn false;\r\n\t\t\t\r\n\t\t\t// calculate word / arc sizes & distances.\r\n\t\t\tthis._calcBase();\r\n\t\t\t\r\n\t\t\t// get final values for each letter.\r\n\t\t\tthis._calcLetters();\r\n\t\t\r\n\t\t},\r\n\t\t_calcBase\t\t\t: function() {\r\n\t\t\t\r\n\t\t\t// total word width (sum of letters widths)\r\n\t\t\tthis.dtWord\t\t= 0;\r\n\t\t\t\r\n\t\t\tvar _self \t\t= this;\r\n\t\t\t\r\n\t\t\tthis.$letters.each( function(i) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tvar $letter \t\t= $(this),\r\n\t\t\t\t\tletterWidth\t\t= $letter.outerWidth( true );\r\n\t\t\t\t\r\n\t\t\t\t_self.dtWord += letterWidth;\r\n\t\t\t\t\r\n\t\t\t\t// save the center point of each letter:\r\n\t\t\t\t$letter.data( 'center', _self.dtWord - letterWidth / 2 );\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// the middle point of the word.\r\n\t\t\tvar centerWord = this.dtWord / 2;\r\n\t\t\t\r\n\t\t\t// check radius : the minimum value allowed is half of the word length.\r\n\t\t\tif( this.options.radius < centerWord )\r\n\t\t\t\tthis.options.radius = centerWord;\r\n\t\t\t\r\n\t\t\t// total arc segment length, where the letters will be placed.\r\n\t\t\tthis.dtArcBase\t= this.dtWord;\r\n\t\t\t\r\n\t\t\t// calculate the arc (length) that goes from the beginning of the first letter (x=0) to the end of the last letter (x=this.dtWord).\r\n\t\t\t// first lets calculate the angle for the triangle with base = this.dtArcBase and the other two sides = radius.\r\n\t\t\tvar angle\t\t= 2 * Math.asin( this.dtArcBase / ( 2 * this.options.radius ) );\r\n\t\t\t\r\n\t\t\t// given the formula: L(ength) = R(adius) x A(ngle), we calculate our arc length.\r\n\t\t\tthis.dtArc\t\t= this.options.radius * angle;\r\n\t\t\t\r\n\t\t},\r\n\t\t_calcLetters\t\t: function() {\r\n\t\t\t\r\n\t\t\tvar _self \t\t= this,\r\n\t\t\t\titeratorX \t= 0;\r\n\t\t\t\t\r\n\t\t\tthis.$letters.each( function(i) {\r\n\t\t\t\t\t\r\n\t\t\t\tvar $letter \t\t= $(this),\r\n\t\t\t\t\t// calculate each letter's semi arc given the percentage of each letter on the original word.\r\n\t\t\t\t\tdtArcLetter\t\t= ( $letter.outerWidth( true ) / _self.dtWord ) * _self.dtArc,\r\n\t\t\t\t\t// angle for the dtArcLetter given our radius.\r\n\t\t\t\t\tbeta\t\t\t= dtArcLetter / _self.options.radius,\r\n\t\t\t\t\t// distance from the middle point of the semi arc's chord to the center of the circle.\r\n\t\t\t\t\t// this is going to be the place where the letter will be positioned.\r\n\t\t\t\t\th\t\t\t\t= _self.options.radius * ( Math.cos( beta / 2 ) ),\r\n\t\t\t\t\t// angle formed by the x-axis and the left most point of the chord.\r\n\t\t\t\t\talpha\t\t\t= Math.acos( ( _self.dtWord / 2 - iteratorX ) / _self.options.radius ),\r\n\t\t\t\t\t// angle formed by the x-axis and the right most point of the chord.\r\n\t\t\t\t\ttheta \t\t\t= alpha + beta / 2,\r\n\t\t\t\t\t// distances of the sides of the triangle formed by h and the orthogonal to the x-axis.\r\n\t\t\t\t\tx\t\t\t\t= Math.cos( theta ) * h,\r\n\t\t\t\t\ty\t\t\t\t= Math.sin( theta ) * h,\r\n\t\t\t\t\t// the value for the coordinate x of the middle point of the chord.\r\n\t\t\t\t\txpos\t\t\t= iteratorX + Math.abs( _self.dtWord / 2 - x - iteratorX ),\r\n\t\t\t\t\t// finally, calculate how much to translate each letter, given its center point.\r\n\t\t\t\t\t// also calculate the angle to rotate the letter accordingly.\r\n\t\t\t\t\txval\t= 0| xpos - $letter.data( 'center' ),\r\n\t\t\t\t\tyval\t= 0| _self.options.radius - y,\r\n\t\t\t\t\tangle \t= ( _self.options.rotate ) ? 0| -Math.asin( x / _self.options.radius ) * ( 180 / Math.PI ) : 0;\r\n\t\t\t\t\r\n\t\t\t\t// the iteratorX will be positioned on the second point of each semi arc\r\n\t\t\t\titeratorX = 2 * xpos - iteratorX;\r\n\t\t\t\t\r\n\t\t\t\t// save these values\r\n\t\t\t\t$letter.data({\r\n\t\t\t\t\tx\t: xval,\r\n\t\t\t\t\ty\t: ( _self.options.dir === 1 ) ? yval : -yval,\r\n\t\t\t\t\ta\t: ( _self.options.dir === 1 ) ? angle : -angle\r\n\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t});\r\n\t\t\r\n\t\t},\r\n\t\t_rotateWord\t\t\t: function( animation ) {\r\n\t\t\t\r\n\t\t\tif( !this.$el.data('arctext') ) return false;\r\n\t\t\t\r\n\t\t\tvar _self = this;\r\n\t\t\t\r\n\t\t\tthis.$letters.each( function(i) {\r\n\t\t\t\t\r\n\t\t\t\tvar $letter \t\t= $(this),\r\n\t\t\t\t\ttransformation\t= ( _self.options.radius === -1 ) ? 'none' : 'translateX(' + $letter.data('x') + 'px) translateY(' + $letter.data('y') + 'px) rotate(' + $letter.data('a') + 'deg)',\r\n\t\t\t\t\ttransition\t\t= ( animation ) ? 'all ' + ( animation.speed || 0 ) + 'ms ' + ( animation.easing || 'linear' ) : 'none';\r\n\t\t\t\t\r\n\t\t\t\t$letter.css({\r\n\t\t\t\t\t'-webkit-transition' : transition,\r\n\t\t\t\t\t'-moz-transition' : transition,\r\n\t\t\t\t\t'-o-transition' : transition,\r\n\t\t\t\t\t'-ms-transition' : transition,\r\n\t\t\t\t\t'transition' : transition\r\n\t\t\t\t})\r\n\t\t\t\t.css({\r\n\t\t\t\t\t'-webkit-transform' : transformation,\r\n\t\t\t\t\t'-moz-transform' : transformation,\r\n\t\t\t\t\t'-o-transform' : transformation,\r\n\t\t\t\t\t'-ms-transform' : transformation,\r\n\t\t\t\t\t'transform' : transformation\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\t\t_loadEvents\t\t\t: function() {\r\n\t\t\t\r\n\t\t\tif( this.options.fitText ) {\r\n\t\t\t\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\t\r\n\t\t\t\t$(window).on( 'resize.arctext', function() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t_self._calc();\r\n\t\t\t\t\t\r\n\t\t\t\t\t// apply transformation.\r\n\t\t\t\t\t_self._rotateWord();\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t},\r\n\t\tset\t\t\t\t\t: function( opts ) {\r\n\t\t\t\r\n\t\t\tif( !opts.radius &&  \r\n\t\t\t\t!opts.dir &&\r\n\t\t\t\topts.rotate === 'undefined' ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.options.radius = opts.radius || this.options.radius;\r\n\t\t\tthis.options.dir \t= opts.dir || this.options.dir;\r\n\t\t\t\r\n\t\t\tif( opts.rotate !== undefined ) {\r\n\t\t\t\tthis.options.rotate = opts.rotate;\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\tthis._calc();\r\n\t\t\t\r\n\t\t\tthis._rotateWord( opts.animation );\r\n\t\t\t\r\n\t\t},\r\n\t\tdestroy\t\t\t\t: function() {\r\n\t\t\t\r\n\t\t\tthis.options.radius\t= -1;\r\n\t\t\tthis._rotateWord();\r\n\t\t\tthis.$letters.removeData('x y a center');\r\n\t\t\tthis.$el.removeData('arctext');\r\n\t\t\t$(window).off('.arctext');\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n\t\r\n\tvar logError \t\t\t= function( message ) {\r\n\t\tif ( this.console ) {\r\n\t\t\tconsole.error( message );\r\n\t\t}\r\n\t};\r\n\t\r\n\t$.fn.arctext\t\t\t= function( options ) {\r\n\t\r\n\t\tif ( typeof options === 'string' ) {\r\n\t\t\t\r\n\t\t\tvar args = Array.prototype.slice.call( arguments, 1 );\r\n\t\t\t\r\n\t\t\tthis.each(function() {\r\n\t\t\t\r\n\t\t\t\tvar instance = $.data( this, 'arctext' );\r\n\t\t\t\t\r\n\t\t\t\tif ( !instance ) {\r\n\t\t\t\t\tlogError( \"cannot call methods on arctext prior to initialization; \" +\r\n\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ( !$.isFunction( instance[options] ) || options.charAt(0) === \"_\" ) {\r\n\t\t\t\t\tlogError( \"no such method '\" + options + \"' for arctext instance\" );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tinstance[ options ].apply( instance, args );\r\n\t\t\t\r\n\t\t\t});\r\n\t\t\r\n\t\t} \r\n\t\telse {\r\n\t\t\r\n\t\t\tthis.each(function() {\r\n\t\t\t\r\n\t\t\t\tvar instance = $.data( this, 'arctext' );\r\n\t\t\t\tif ( !instance ) {\r\n\t\t\t\t\t$.data( this, 'arctext', new $.Arctext( options, this ) );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn this;\r\n\t\t\r\n\t};\r\n\t\r\n})( jQuery );"],"file":"jquery.arctext.js"}